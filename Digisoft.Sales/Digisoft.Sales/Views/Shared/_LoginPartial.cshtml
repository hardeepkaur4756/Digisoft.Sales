@using Microsoft.AspNet.Identity
@if (Request.IsAuthenticated)
{
    using (Html.BeginForm("LogOff", "Account", FormMethod.Post, new { id = "logoutForm", @class = "navbar-right" }))
    {
    @Html.AntiForgeryToken()

    <ul class="nav navbar-nav">
        <li class="nav-item dropdown no-arrow">
            <span class="dropdown-toggle d-flex align-items-center"
                  id="userDropdown"
                  role="button"
                  data-toggle="dropdown"
                  aria-haspopup="true"
                  aria-expanded="false">
                @Html.ActionLink(User.Identity.GetUserName(), "Index", "Manage", routeValues: null, htmlAttributes: new { title = "Manage", @class = "text-black-50 nav-link" })
                <img class="img-profile rounded-circle" style="height: 2rem; width: 2rem;"
                     src="https://source.unsplash.com/QAB-WJcbgJk/60x60" />
            </span> 
            <div class="dropdown-menu dropdown-menu-right shadow animated--grow-in"
                 aria-labelledby="userDropdown">
                <a class="dropdown-item" href="/Manage/ChangePassword">
                    <i class="fa fa-key" aria-hidden="true"></i>
                    Change Password
                </a>
                
                
                <div class="dropdown-divider"></div>
               

                <a href="javascript:document.getElementById('logoutForm').submit()" class="dropdown-item">Log off</a>
            </div>
        </li>
    </ul>
    }
}
else
{
    <ul class="nav navbar-nav navbar-right">
        <li>@Html.ActionLink("Log in", "Login", "Account", routeValues: null, htmlAttributes: new { id = "loginLink",title = "Manage", @class = "text-black-50 nav-link" })</li>
    </ul>
}
